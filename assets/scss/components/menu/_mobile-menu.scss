.mobile-menu {
	--wrap-display: block;
	--button-overlay-display: none;
	--sub-menu-margin: 0 0 var(--spacing-md) var(--spacing-xxs);
	--sub-menu-padding: 0;

	position: absolute;
	top: 100%;
	left: 0;
	display: var(--mobile-menu-display, none);
	width: 100%;
	max-height: 100vh;
	padding: var(--spacing-md) 0;
	overflow-y: auto;
	background: var(--mobile-menu-background, var(--site-header-background, var(--color-white)));
	border-bottom: var(--border);
	animation: var(--mobile-menu-animation, none);

	// Prevent sub-menu-toggle from wrapping to it's own line.
	.menu-item-has-children {
		--menu-item-link-max-width: calc(100% - 3em); // Minus sub-menu-toggle width.
	}

	// Move sub menu toggle next to menu item text on larger screens.
	@include mq(md) {
		--menu-item-link-width: auto;
		--sub-menu-toggle-margin: 0 auto 0 0;
	}

	.menu-item.search {
		display: none;
	}
}

.has-dark-header {
	--mobile-menu-background: var(--color-white);

	.mobile-menu {
		--menu-item-link-color: var(--color-heading);
		--menu-item-link-color-hover: var(--color-link);
	}
}

.mobile-menu-visible {
	--mobile-menu-display: block;
	--mobile-menu-background: var(--color-white);
	--mobile-menu-animation: standardmenu 0.3s ease-in-out;
}

@keyframes standardmenu {

	0% {
		top: 80%;
		opacity: 0;
	}

	100% {
		top: 100%;
		opacity: 1;
	}
}
