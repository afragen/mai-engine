!function(){var e="undefined"==typeof maiMenuVars?{}:maiMenuVars,t=document.getElementsByTagName("body")[0],s=document.querySelector(".site-header-wrap"),n=[document.getElementsByClassName("nav-header-left")[0],document.getElementsByClassName("nav-header-right")[0],document.getElementsByClassName("nav-after-header")[0]],a=document.querySelector(".mobile-menu"),r=document.querySelector(".mobile-menu .wrap"),i=document.querySelector(".mobile-menu .menu"),o=document.querySelector(".mobile-menu .widget"),c=document.getElementsByClassName("menu-toggle")[0],u=document.querySelectorAll(".menu-item.search");if(s){var l,m,d=function(e){var t="false"===e.getAttribute("aria-expanded")?"true":"false";return e.setAttribute("aria-expanded",t),e.setAttribute("aria-pressed",t),e},b=function(){d(c),t.classList.toggle("mobile-menu-visible"),t.classList.contains("mobile-menu-visible")?(t.addEventListener("mouseup",f,!1),t.addEventListener("keydown",f,!1)):(t.removeEventListener("mouseup",f,!1),t.removeEventListener("keydown",f,!1))},f=function(e){e.target.closest(".site-header, .mobile-menu")&&27!=e.keyCode||b()},g=function(e){var t=e.target,s=t.classList.contains("search")?t:t.closest(".menu-item.search"),n=s.querySelector(".search-form"),a=s.querySelector(".search-toggle"),r=s.querySelector(".search-form-input");r.setAttribute("required",""),t.classList.contains("search-form-input")||t.classList.contains("search-form-submit")||t.classList.contains("search-form")||(n.classList.toggle("search-form-visible"),d(a)),n.classList.contains("search-form-visible")&&(r.focus(),document.addEventListener("mouseup",(function(e){e.target.closest(".menu-item.search")||(n.classList.remove("search-form-visible"),d(a))})))};a||((a=document.createElement("div")).setAttribute("class","mobile-menu"),a.setAttribute("aria-label",e.ariaLabel),a.setAttribute("itemscope",""),a.setAttribute("itemtype","https://schema.org/SiteNavigationElement"),r||((r=document.createElement("div")).setAttribute("class","wrap"),a.appendChild(r)),i||((i=document.createElement("ul")).setAttribute("class","menu"),r.appendChild(i)),s.parentNode.insertBefore(a,null)),c||((c=document.createElement("button")).setAttribute("class","menu-toggle"),c.setAttribute("aria-expanded","false"),c.setAttribute("aria-pressed","false"),c.innerHTML=e.menuToggle,s.appendChild(c)),a||o||n.forEach((function(e){if(e){var t=e.querySelector(".menu").cloneNode(!0);t.setAttribute("id",e.getAttribute("id")+"-clone"),Array.from(t.children).forEach((function(e){var t=e.getAttribute("class");if(t){var s=t.split(" ").pop();e.setAttribute("id",s),i&&null===i.querySelector("#"+s)&&!e.classList.contains("search")&&(e.removeAttribute("id"),i.appendChild(e))}}))}})),document.querySelectorAll(".mobile-menu .menu-item").forEach((function(e){e.classList.add("mobile-menu-item")})),document.querySelectorAll(".mobile-menu .sub-menu").forEach((function(t){var s=document.createElement("button");s.setAttribute("class","sub-menu-toggle"),s.setAttribute("aria-expanded","false"),s.setAttribute("aria-pressed","false"),s.innerHTML=e.subMenuToggle,t.parentNode.insertBefore(s,t)})),u&&u.forEach((function(e){var t=maiMenuVars.searchIcon,s=document.createElement("button"),n=document.createElement("div");s.setAttribute("class","search-toggle"),s.setAttribute("aria-expanded","false"),s.setAttribute("aria-pressed","false"),s.innerHTML='<span class="screen-reader-text">'+e.innerText+"</span>"+t,e.innerHTML="",n.innerHTML=maiMenuVars.searchBox,e.append(s),e.append(n.firstChild)})),l=document.querySelectorAll(".menu-item.button"),m=["button-secondary","button-outline","button-link","button-white","button-small","button-large"],l.forEach((function(e){var t=[];m.forEach((function(s){e.classList.contains(s)&&(e.classList.remove(s),t.push(s))})),e.childNodes.forEach((function(e){"menu-item-link"===e.className&&(e.classList.add("button"),e.classList.remove("menu-item-link"),t.forEach((function(t){e.classList.add(t)})))})),e.classList.remove("button")})),c.addEventListener("click",b,!1),u.forEach((function(e){e.addEventListener("click",g,!1)})),document.addEventListener("click",(function(e){(e.target.classList.contains("sub-menu-toggle")||e.target.classList.contains("sub-menu-toggle-icon"))&&function(e){var t=e.target.classList.contains("sub-menu-toggle")?e.target:e.target.parentNode,s=(t=t.classList.contains("menu-item")?t.getElementsByClassName("sub-menu-toggle")[0]:t).nextSibling;d(t),t.classList.toggle("active"),s.classList.toggle("visible")}(e)}),!1)}}();