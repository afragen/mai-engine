!function(){function i(e){var t="false"===e.getAttribute("aria-expanded")?"true":"false";return e.setAttribute("aria-expanded",t),e.setAttribute("aria-pressed",t),e}function e(){i(b),r.classList.toggle("mobile-menu-visible")}function t(e){var t=e.target.classList.contains("sub-menu-toggle")?e.target:e.target.parentNode,s=(t=t.classList.contains("menu-item")?t.getElementsByClassName("sub-menu-toggle")[0]:t).nextSibling;i(t),s.parentNode.classList.toggle("sub-menu-visible")}function s(e){var t=e.target,s=t.classList.contains("search")?t:t.closest(".menu-item.search"),a=s.querySelector(".search-form"),n=s.querySelector(".search-toggle"),r=s.querySelector(".search-form-input");r.setAttribute("required",""),t.classList.contains("search-form-input")||t.classList.contains("search-form-submit")||t.classList.contains("search-form")||(a.classList.toggle("search-form-visible"),i(n)),a.classList.contains("search-form-visible")&&(r.focus(),document.addEventListener("mouseup",function(e){e.target.closest(".menu-item.search")||(a.classList.remove("search-form-visible"),i(n))}))}function a(){v||(v=!0,h.matches?(r.classList.add("is-mobile"),r.classList.remove("is-desktop")):(r.classList.remove("is-mobile"),r.classList.add("is-desktop")),setTimeout(function(){v=!1},100))}var n="undefined"==typeof maiMenuVars?{}:maiMenuVars,r=document.getElementsByTagName("body")[0],c=document.querySelector(".site-header > .wrap"),o=[document.getElementsByClassName("nav-header-left")[0],document.getElementsByClassName("nav-header-right")[0],document.getElementsByClassName("nav-after-header")[0]],l=document.getElementsByClassName(".mobile-menu")[0],u=document.querySelector(".mobile-menu .wrap"),m=document.querySelector(".mobile-menu .menu"),d=document.querySelector(".mobile-menu .widget"),b=document.getElementsByClassName("menu-toggle")[0],g=document.querySelectorAll(".sub-menu"),f=document.querySelectorAll(".sub-menu-toggle"),p=document.querySelectorAll(".menu-item.search"),h=window.matchMedia("(max-width:"+n.breakpoint+"px)"),v=!1;a(),l||((l=document.createElement("div")).setAttribute("class","mobile-menu"),l.setAttribute("aria-label",n.ariaLabel),l.setAttribute("itemscope",""),l.setAttribute("itemtype","https://schema.org/SiteNavigationElement"),(u=document.createElement("div")).setAttribute("class","wrap"),(m=document.createElement("ul")).setAttribute("class","menu"),l.appendChild(u),u.appendChild(m),c.parentNode.insertBefore(l,null)),b||((b=document.createElement("button")).setAttribute("class","menu-toggle"),b.setAttribute("aria-expanded","false"),b.setAttribute("aria-pressed","false"),b.innerHTML=n.menuToggle,c.appendChild(b)),g.forEach(function(e){var t=document.createElement("button");t.setAttribute("class","sub-menu-toggle"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-pressed","false"),t.innerHTML=n.subMenuToggle,e.parentNode.insertBefore(t,e)}),p&&p.forEach(function(e){var t=maiMenuVars.searchIcon,s=document.createElement("button"),a=document.createElement("div");s.setAttribute("class","search-toggle"),s.setAttribute("aria-expanded","false"),s.setAttribute("aria-pressed","false"),s.innerHTML='<span class="screen-reader-text">'+e.innerText+"</span>"+t,e.innerHTML="",a.innerHTML=maiMenuVars.searchBox,e.append(s),e.append(a.firstChild)}),d||o.forEach(function(e){if(e){var t=e.querySelector(".menu").cloneNode(!0);t.setAttribute("id",e.getAttribute("id")+"-clone"),Array.from(t.children).forEach(function(e){var t=e.getAttribute("class").split(" ").pop();e.setAttribute("id",t),null!==m.querySelector("#"+t)||e.classList.contains("search")||m.appendChild(e)})}}),window.addEventListener("resize",a,!1),b.addEventListener("click",e,!1),f.forEach(function(e){e.addEventListener("click",t,!1)}),p.forEach(function(e){e.addEventListener("click",s,!1)})}();