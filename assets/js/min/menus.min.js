!function(){function r(e){var t="false"===e.getAttribute("aria-expanded")?"true":"false";return e.setAttribute("aria-expanded",t),e.setAttribute("aria-pressed",t),e}function t(){r(d),a.classList.toggle("mobile-menu-visible"),a.classList.contains("mobile-menu-visible")?(a.addEventListener("mouseup",p,!1),a.addEventListener("keydown",p,!1)):(a.removeEventListener("mouseup",p,!1),a.removeEventListener("keydown",p,!1))}function s(e){var t=e.target,s=t.classList.contains("search")?t:t.closest(".menu-item.search"),n=s.querySelector(".search-form"),a=s.querySelector(".search-toggle"),i=s.querySelector(".search-form-input");i.setAttribute("required",""),t.classList.contains("search-form-input")||t.classList.contains("search-form-submit")||t.classList.contains("search-form")||(n.classList.toggle("search-form-visible"),r(a)),n.classList.contains("search-form-visible")&&(i.focus(),document.addEventListener("mouseup",function(e){e.target.closest(".menu-item.search")||(n.classList.remove("search-form-visible"),r(a))}))}function e(){f||(f=!0,g.matches?(a.classList.add("is-mobile"),a.classList.remove("is-desktop")):(a.classList.remove("is-mobile"),a.classList.add("is-desktop")),setTimeout(function(){f=!1},100))}var n="undefined"==typeof maiMenuVars?{}:maiMenuVars,a=document.getElementsByTagName("body")[0],i=document.querySelector(".site-header > .wrap"),o=[document.getElementsByClassName("nav-header-left")[0],document.getElementsByClassName("nav-header-right")[0],document.getElementsByClassName("nav-after-header")[0]],c=document.querySelector(".mobile-menu"),u=document.querySelector(".mobile-menu .wrap"),l=document.querySelector(".mobile-menu .menu"),m=document.querySelector(".mobile-menu .widget"),d=document.getElementsByClassName("menu-toggle")[0],b=document.querySelectorAll(".menu-item.search"),g=window.matchMedia("(max-width:"+n.breakpoint+"px)"),f=!1,p=function(e){e.target.closest(".site-header, .mobile-menu")&&27!=e.keyCode||t()};e(),c||((c=document.createElement("div")).setAttribute("class","mobile-menu"),c.setAttribute("aria-label",n.ariaLabel),c.setAttribute("itemscope",""),c.setAttribute("itemtype","https://schema.org/SiteNavigationElement"),(u=document.createElement("div")).setAttribute("class","wrap"),(l=document.createElement("ul")).setAttribute("class","menu"),c.appendChild(u),u.appendChild(l),i.parentNode.insertBefore(c,null)),d||((d=document.createElement("button")).setAttribute("class","menu-toggle"),d.setAttribute("aria-expanded","false"),d.setAttribute("aria-pressed","false"),d.innerHTML=n.menuToggle,i.appendChild(d)),m||o.forEach(function(e){if(e){var t=e.querySelector(".menu").cloneNode(!0);t.setAttribute("id",e.getAttribute("id")+"-clone"),Array.from(t.children).forEach(function(e){var t=e.getAttribute("class");if(t){var s=t.split(" ").pop();e.setAttribute("id",s),null!==l.querySelector("#"+s)||e.classList.contains("search")||l.appendChild(e)}})}}),document.querySelectorAll(".mobile-menu .menu-item").forEach(function(e){e.classList.add("mobile-menu-item")}),document.querySelectorAll(".mobile-menu .sub-menu").forEach(function(e){var t=document.createElement("button");t.setAttribute("class","sub-menu-toggle"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-pressed","false"),t.innerHTML=n.subMenuToggle,e.parentNode.insertBefore(t,e)}),b&&b.forEach(function(e){var t=maiMenuVars.searchIcon,s=document.createElement("button"),n=document.createElement("div");s.setAttribute("class","search-toggle"),s.setAttribute("aria-expanded","false"),s.setAttribute("aria-pressed","false"),s.innerHTML='<span class="screen-reader-text">'+e.innerText+"</span>"+t,e.innerHTML="",n.innerHTML=maiMenuVars.searchBox,e.append(s),e.append(n.firstChild)}),window.addEventListener("resize",e,!1),d.addEventListener("click",t,!1),b.forEach(function(e){e.addEventListener("click",s,!1)}),document.addEventListener("click",function(e){var t,s,n;(e.target.classList.contains("sub-menu-toggle")||e.target.classList.contains("sub-menu-toggle-icon"))&&(s=(t=e).target.classList.contains("sub-menu-toggle")?t.target:t.target.parentNode,n=(s=s.classList.contains("menu-item")?s.getElementsByClassName("sub-menu-toggle")[0]:s).nextSibling,r(s),n.parentNode.classList.toggle("sub-menu-visible"))},!1)}();