!function(o){"use strict";o(window).on("popstate",function(){location.reload(!0)});function i(e,t,a){void 0!==a&&(a=300),t.each(function(){var t=o(this);t.attr("id")!==e?t.fadeOut(a):setTimeout(function(){t.fadeIn(a)},a)})}var r="undefined"==typeof setupWizardData?[]:setupWizardData,n=o(".setup-wizard .step"),u=function(t){for(var e=window.location.search.substring(1).split("&"),a=!1,s=0;s<e.length;s++)if((a=e[s].split("="))[0]===t)return void 0===a[1]?"welcome":decodeURIComponent(a[1])}("page");i(r.currentStep,n,0),n.each(function(){var a={object:o(this),id:o(this).attr("id"),submit:o(this).find("#submit"),skip:o(this).find("#skip"),previous:o(this).find("#previous"),next:o(this).next(n),prev:o(this).prev(n)};a.submit.click(function(){var t=o("#"+a.id+" input:enabled"),e=t.attr("type")?t.attr("type"):"text";"checkbox"!==e&&"radio"!==e||(t=o("#"+a.id+" input:enabled:checked")),a.submit.text(a.submit.attr("data-loading")),o("[data-status]").removeAttr("data-status"),o(t[0]).closest("li").attr("data-status","running"),c(a,t,0)}),a.skip.click(function(){o("[data-status]").removeAttr("data-status"),p(a.next.attr("id"))}),a.previous.click(function(){o("[data-status]").removeAttr("data-status"),p(a.prev.attr("id"))})});function t(n){o('[name="plugins"], [name="content"], [name="widgets"], [name="customizer"]').each(function(){var t=o(this),e=t.attr("data-demo"),a=n===e,s=n!==e,i=n!==e;t.attr("checked",a),t.prop("disabled",s),t.closest("li").prop("hidden",i)})}var c=function(e,a,s){if(o(a[s]).closest("li").attr("data-status","running"),o(a[s-1]).closest("li").attr("data-status","complete"),s>=a.length)setTimeout(function(){p(e.next.attr("id")),e.submit.text(e.submit.attr("data-default"))},1e3);else{var t=o(a[s]),i=t[0].attributes,n={};"object"==typeof i&&o.each(i,function(){n[this.name]=this.value}),n.value=t.val(),o.ajax({type:"post",dataType:"json",url:r.ajaxUrl,timeout:3e4,data:{action:"mai_setup_wizard_"+e.id,counter:s,field:n,nonce:r.nonce},success:function(t){setTimeout(function(){d(t,e,a,s,"success")},1e3)},error:function(t){setTimeout(function(){d(t,e,a,s,"error")},1e3)}})}},d=function(t,e,a,s,i){var n=t.hasOwnProperty("success")&&t.success&&"success"===i;if(t.hasOwnProperty("status")&&"newAJAX"===t.status)c(e,a,s);else{if(!n&&"error"!==i)return t.hasOwnProperty("data")&&o("#"+e.id+" .error").show().text(t.data),e.submit.text(e.submit.attr("data-default")),o(a[s]).closest("li").removeAttr("data-status"),void console.log(t);console.log(t),c(e,a,++s)}},p=function(t){var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"?page="+u+"&step="+t,a=o("#"+t),s=a.next(n).prev(n);a.hasClass("step")&&s.hasClass("step")&&(window.history.pushState({path:e},"",e),i(t,n))};t(r.chosenDemo),o("p.error, p.success").hide(),o('[name="demo"]').click(function(){t(o(this).val())})}(jQuery);