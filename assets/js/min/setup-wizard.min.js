!function(d){d(window).on("popstate",function(){location.reload(!0)});var m=d(".mai-continue"),r=d(".mai-skip"),e=function(e){var a,t,s=window.location.search.substring(1).split("&");for(t=0;t<s.length;t++)if((a=s[t].split("="))[0]===e)return void 0===a[1]||decodeURIComponent(a[1])}("step"),a=d(e?".mai-step-"+e:".mai-step-welcome");a.addClass("current-step"),a.fadeIn(),r.click(function(){var e=d(".current-step");e.removeClass("is-error is-success");var a=e.next(".mai-step");e.next().hasClass("mai-step")||(a=d(".mai-step-welcome")),e.removeClass("current-step"),a.addClass("current-step"),e.delay(500).fadeOut(200),a.delay(700).fadeIn(200);var t=a.attr("class").replace("mai-step","").replace("current-step","").replace(" ","").replace("mai-step-","");d(".mai-step-done").hasClass("current-step")&&(m.fadeOut(),r.fadeOut());var s=window.location.protocol+"//"+window.location.host+window.location.pathname+"?page=mai-demo-import&step="+t;window.history.pushState({path:s},"",s)}),m.click(function(){d(this).addClass("loading");var t=d(".current-step");t.removeClass("is-error is-success");var s=t.next(".mai-step");t.next().hasClass("mai-step")||(s=d(".mai-step-welcome"));var e=t.attr("class").replace("mai-step","").replace("current-step","").replace(" ","").replace("mai-step-",""),r=s.attr("class").replace("mai-step","").replace("current-step","").replace(" ","").replace("mai-step-",""),i=d(".current-nav"),n=i.next(".mai-nav"),a=d(".mai-email-address").val(),o=d('input[name="mai-step-style"]:checked').val(),p=[],l=[];d('input[name="mai-step-plugins[]"]:checked').each(function(e){p[e]=d(this).val()}),d('input[name="mai-step-content[]"]:checked').each(function(e){l[e]=d(this).val()});var c={action:"mai_setup_wizard",current_step:e,email_address:a,site_style:o,plugins:p,content:l};d.post(ajaxurl,c,function(e){if(e.hasOwnProperty("error"))return m.removeClass("loading"),t.addClass("is-error"),void console.log(e.error);e.hasOwnProperty("plugin_list")&&d(".mai-step-plugins .mai-step-fields").empty().append(e.plugin_list),t.addClass("is-success"),t.removeClass("current-step"),s.addClass("current-step"),t.delay(1e3).fadeOut(200),s.delay(1400).fadeIn(200),i.removeClass("current-nav"),n.addClass("current-nav");var a=window.location.protocol+"//"+window.location.host+window.location.pathname+"?page=mai-demo-import&step="+r;window.history.pushState({path:a},"",a),m.delay(4e3).removeClass("loading")})})}(jQuery);